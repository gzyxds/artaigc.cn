/* 引入Tailwind CSS的基础样式 */
@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * 艺创AI (Artaigc) 设计系统全局样式
 * 遵循 Linear & Bento Grid 风格
 */

@layer base {
  :root {
    /*
     * 基础色板 (Color Palette)
     * 使用 RGB 值以支持 Tailwind 的透明度修饰符
     */
    --bg-background: 255 255 255;      /* #FFFFFF */
    --bg-surface: 250 250 250;         /* #FAFAFA */
    --border-default: 229 229 229;     /* #E5E5E5 (Neutral 200) */

    /* 响应式排版变量 */
    --fs-display: clamp(32px, 2.5vw + 1rem, 48px);
    --fs-h1: clamp(28px, 2vw + 0.5rem, 36px);
    --fs-h2: clamp(24px, 1.5vw + 0.5rem, 30px);
    --fs-h3: 20px;
    --fs-body: 16px;

    /* 布局变量 */
    --gutter-width: 1rem;
    --grid-line-color: rgba(26, 29, 45, 0.05);
  }

  /* 暗色模式变量 */
  .dark {
    --bg-background: 10 10 10;         /* #0A0A0A */
    --bg-surface: 23 23 23;            /* #171717 */
    --border-default: 38 38 38;        /* #262626 (Neutral 800) */
    --grid-line-color: rgba(255, 255, 255, 0.1);
  }

  @media (min-width: 768px) { :root { --gutter-width: 1.5rem; } }
  @media (min-width: 1024px) { :root { --gutter-width: 2rem; } }

  html {
    @apply scroll-smooth antialiased text-neutral-900 dark:text-neutral-100 bg-background;
    font-feature-settings: "cv11", "ss01";
  }

  body {
    @apply bg-background text-base leading-relaxed;
  }

  /* 标题系统 - 移除大量 @apply，回归原生语义化 + Tailwind类名 */
  h1, .h1 { @apply font-sans font-bold text-[length:var(--fs-display)] tracking-tight text-primary-950 dark:text-white mb-6; }
  h2, .h2 { @apply font-sans font-semibold text-[length:var(--fs-h1)] tracking-tight text-primary-900 dark:text-neutral-100 mb-4; }
  h3, .h3 { @apply font-sans font-semibold text-[length:var(--fs-h2)] text-primary-900 dark:text-neutral-100 mb-3; }
  h4, .h4 { @apply font-sans font-medium text-[length:var(--fs-h3)] text-primary-900 dark:text-neutral-200 mb-2; }

  p { @apply mb-4 leading-7 text-neutral-600 dark:text-neutral-400; }

  /* 链接交互 */
  a { @apply transition-colors duration-200; }
}

@layer components {
  /*
   * Bento Grid 核心组件
   */
  .bento-grid {
    @apply grid gap-4 md:gap-6 auto-rows-min;
  }

  .bento-card {
    @apply relative bg-surface border border-border rounded-none sm:rounded-sm overflow-hidden
           transition-all duration-300 hover:border-brand-500/50 dark:hover:border-brand-500/50;
  }

  .bento-card-interactive {
    @apply bento-card hover:bg-neutral-50 dark:hover:bg-neutral-900 cursor-pointer;
  }

  /* 装饰性角标 (Tech/Linear 风格) */
  .corner-marker {
    @apply absolute w-2 h-2 border-neutral-300 dark:border-neutral-700 transition-colors duration-300 z-10 pointer-events-none;
  }
  .group:hover .corner-marker { @apply border-brand-500; }

  .corner-tl { @apply top-0 left-0 border-t border-l; }
  .corner-tr { @apply top-0 right-0 border-t border-r; }
  .corner-bl { @apply bottom-0 left-0 border-b border-l; }
  .corner-br { @apply bottom-0 right-0 border-b border-r; }

  /*
   * 按钮组件 (Linear Style)
   */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-6 py-2.5 text-sm font-medium transition-all duration-200
           disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-brand-500/20;
  }

  .btn-primary {
    @apply bg-brand-600 text-white hover:bg-brand-700 active:bg-brand-800 rounded-none shadow-sm hover:shadow-md;
  }

  .btn-secondary {
    @apply bg-transparent border border-border text-neutral-700 dark:text-neutral-300
           hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-none;
  }

  .btn-ghost {
    @apply bg-transparent text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-100/50 dark:hover:bg-neutral-800/50 rounded-sm;
  }

  /*
   * 背景网格工具 (保留并优化)
   */
  .bg-grid-pattern {
    background-size: 24px 24px;
    background-image: linear-gradient(to right, var(--grid-line-color) 1px, transparent 1px),
                      linear-gradient(to bottom, var(--grid-line-color) 1px, transparent 1px);
    mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
  }

  /* 容器类 */
  .container-custom {
    @apply mx-auto w-full max-w-[1920px] px-4 md:px-6 lg:px-8;
  }
}

@layer utilities {
  .text-balance { text-wrap: balance; }
  .text-pretty { text-wrap: pretty; }

  /* 微光效果 */
  .animate-shimmer {
    background: linear-gradient(to right, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%);
    background-size: 200% 100%;
    animation: shimmer 2s infinite linear;
  }

  @keyframes shimmer {
    from { background-position: 200% 0; }
    to { background-position: -200% 0; }
  }
}
