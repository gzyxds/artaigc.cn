/* 引入Tailwind CSS的基础样式 */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 字体定义 (占位符，需确保字体文件存在或回退到系统字体) */
@font-face {
  font-family: 'Clash-Display';
  src: local('Clash Display'), local('ClashDisplay-Variable'),
       url('/fonts/clashdisplay/ClashDisplay-Variable.woff2') format('woff2');
  font-weight: 200 700;
  font-display: swap;
  font-style: normal;
}

@font-face {
  font-family: 'Clash-Grotesk';
  src: local('Clash Grotesk'), local('ClashGrotesk-Variable'),
       url('/fonts/clashgrotesk/ClashGrotesk-Variable.woff2') format('woff2');
  font-weight: 200 700;
  font-display: swap;
  font-style: normal;
}

/* 基础层样式定义 */
@layer base {
  html {
    @apply scroll-smooth antialiased;
    --grid-line-color: rgba(0, 0, 0, 0.1);
    --breakpoint-2xl: 96rem;
    --gutter-width: 1rem; /* px-4 */
  }

  @media (min-width: 768px) {
    html {
      --gutter-width: 1.5rem; /* md:px-6 */
    }
  }

  @media (min-width: 1024px) {
    html {
      --gutter-width: 2rem; /* lg:px-8 */
    }
  }

  html.dark {
    --grid-line-color: rgba(255, 255, 255, 0.1);
  }

  body {
    @apply font-body bg-white text-base leading-7 text-neutral-700
           selection:bg-neutral-950 selection:text-neutral-50
           dark:bg-neutral-950 dark:text-neutral-200
           dark:selection:bg-neutral-50 dark:selection:text-neutral-950;
  }



  /* 标题样式 */
  h1, h2, h3, h4, h5, h6,
  .h1, .h2, .h3, .h4, .h5, .h6 {
    @apply font-headings text-neutral-950 last:mb-0
           dark:text-white mb-6 font-medium;
  }

  h1 strong, h2 strong, h3 strong, h4 strong, h5 strong, h6 strong {
    font-weight: inherit;
  }

  h1, .h1 {
    @apply text-5xl leading-[1.1] md:text-7xl lg:text-[5.375rem] lg:leading-none lg:tracking-[-2px];
  }

  h2, .h2 {
    @apply text-4xl lg:text-[4rem] lg:leading-[1.1];
  }

  h3, .h3 {
    @apply text-2xl lg:leading-9;
  }

  h4, .h4 {
    @apply text-lg leading-8 lg:text-xl;
  }

  h5, .h5 {
    @apply text-sm leading-6 font-normal tracking-wider text-neutral-500 uppercase dark:text-neutral-400;
  }

  h6, .h6 {
    @apply text-base lg:text-lg;
  }

  p {
    @apply mb-6 last:mb-0 text-neutral-700 dark:text-neutral-200 text-base sm:text-lg leading-relaxed;
  }

  .text-lead {
    @apply text-[21px] leading-9 font-light;
  }

  blockquote, .blockquote {
    @apply font-headings text-2xl leading-relaxed font-light lg:text-4xl relative mb-8 border border-[#E7E5E4] bg-neutral-50/30 py-12 px-8
           dark:border-neutral-700 dark:bg-neutral-900/40;
  }

  /* 列表样式 */
  ul li, ol li {
    @apply mb-2 ml-4 pl-2 text-neutral-700 dark:text-neutral-400;
  }
  ul li {
    @apply list-disc marker:font-medium marker:text-primary-700 dark:marker:text-primary-300;
  }
  ol li {
    @apply list-decimal marker:text-primary-700 dark:marker:text-primary-300;
  }

  /* 链接 */
  main a {
    @apply text-primary-500 hover:text-primary-600 dark:text-primary-500 dark:hover:text-primary-400;
  }

  /* 代码块 */
  pre {
    @apply mb-6 rounded-sm border border-neutral-950 bg-neutral-800 p-6 text-base text-white
           dark:border-neutral-800 dark:bg-neutral-900;
  }
}

/* 组件层样式定义 */
@layer components {
  /* Button Styles (Ported from Button.astro) */
  .btn, .button {
    @apply relative inline-flex cursor-pointer items-center justify-center gap-2
           bg-neutral-950 font-medium whitespace-nowrap text-white
           transition duration-300 hover:bg-neutral-900
           focus-visible:outline-none disabled:cursor-not-allowed disabled:shadow-none
           dark:bg-white dark:text-neutral-950 dark:hover:bg-neutral-50
           rounded-lg; /* Added rounded-lg to match previous design preference */
  }

  .btn-lg, .button--lg {
    @apply h-14 px-8 text-lg;
  }

  .btn-base, .button--base {
    @apply h-12 px-8 text-base;
  }

  .btn-sm, .button--sm {
    @apply h-10 px-4 text-sm;
  }

  .btn-primary, .button--primary {
    @apply bg-primary-500 hover:bg-primary-600 dark:hover:bg-primary-600 text-white shadow-md hover:shadow-lg;
  }

  .btn-secondary, .button--secondary {
    @apply bg-neutral-600 hover:bg-neutral-700 text-white shadow-md hover:shadow-lg;
  }

  .btn-white, .button--white {
    @apply bg-white hover:bg-gray-50 text-primary-500 dark:hover:bg-primary-600;
  }

  .btn-link, .button--link {
    @apply text-primary-900 hover:text-primary-950 dark:text-primary-50 dark:hover:text-primary-100
           bg-transparent shadow-none hover:bg-transparent h-auto p-0;
  }

  .btn-outline, .button--outline {
    @apply border-2 border-neutral-300 dark:border-neutral-700
           hover:bg-neutral-100 dark:hover:bg-neutral-800
           text-neutral-900 dark:text-neutral-100 bg-transparent;
  }

  /* 容器样式 */
  .container, .container-custom {
    @apply relative z-10 mx-auto w-full max-w-full px-4 md:px-6 lg:px-8;
  }

  .content-area {
    @apply max-w-[1000px] mx-auto;
  }

  /* 卡片样式 */
  .card {
    @apply bg-white dark:bg-neutral-900 rounded-xl shadow-md hover:shadow-lg
           transition-shadow duration-300 overflow-hidden
           border border-neutral-200 dark:border-neutral-800
           dark:shadow-neutral-900/50;
  }

  /* 滚动动画 */
  .scroll-animation .col:not(.no-scroll-animation),
  .scroll-animation .scroll-animate {
    @apply translate-y-2 scale-y-[0.99] transform opacity-0 blur-sm transition-all duration-1000
           [&.scroll-animated]:translate-y-0 [&.scroll-animated]:scale-y-100 [&.scroll-animated]:opacity-100 [&.scroll-animated]:blur-none;
  }

  /* 延迟类 */
  .delay-50 { transition-delay: 50ms; }
  .delay-200 { transition-delay: 200ms; }
  .delay-350 { transition-delay: 350ms; }
  .delay-400 { transition-delay: 400ms; }
  .delay-550 { transition-delay: 550ms; }
  .delay-700 { transition-delay: 700ms; }
  .delay-850 { transition-delay: 850ms; }
  .delay-1000 { transition-delay: 1000ms; }
}

/* 动画效果 */
.fade-in { @apply animate-fade-in; }
.slide-up { @apply animate-slide-up; }
.slide-down { @apply animate-slide-down; }

/* 实用工具 */
.sr-only {
  @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
}

/* 表单样式 */
form input, form textarea {
  @apply relative mb-6 w-full border border-neutral-200 px-4 py-3 rounded-lg
         text-neutral-700 placeholder-neutral-400 bg-white
         transition-all outline-none
         focus:border-primary-500 focus:ring-1 focus:ring-primary-500
         dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-200;
}

form label {
  @apply font-headings text-sm mb-2 block text-neutral-700 dark:text-neutral-300;
}

/* 禁用过渡 */
html.disable-transitions *,
html.disable-transitions *::before,
html.disable-transitions *::after {
  transition: none !important;
  animation: none !important;
}
