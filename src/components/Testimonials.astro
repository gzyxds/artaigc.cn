---
const clients = [
  {
    name: "DeepSeek",
    logo: "https://aigc-1307986889.cos.ap-guangzhou.myqcloud.com/resource/image/models/deepseek.png", 
    website: "#",
    industry: "DeepSeek"
  },
  {
    name: "豆包",
    logo: "https://aigc-1307986889.cos.ap-guangzhou.myqcloud.com/uploads/images/20250211/20250211001118242b12518.png",
    website: "#",
    industry: "豆包"
  },
  {
    name: "Qwen3",
    logo: "https://aigc-1307986889.cos.ap-guangzhou.myqcloud.com/resource/image/models/qwen.png",
    website: "#",
    industry: "Qwen3"
  },
  {
    name: "Hunyuan",
    logo: "https://aigc-1307986889.cos.ap-guangzhou.myqcloud.com/uploads/images/20250324/20250324213436b27188611.svg",
    website: "#",
    industry: "Hunyuan"
  },
  {
    name: "ERNIE",
    logo: "https://aigc-1307986889.cos.ap-guangzhou.myqcloud.com/resource/image/models/baidu.png",
    website: "#",
    industry: "ERNIE"
  },
  {
    name: "GLM",
    logo: "https://aigc-1307986889.cos.ap-guangzhou.myqcloud.com/resource/image/models/zhipu.png",
    website: "#",
    industry: "GLM"
  },
  {
    name: "讯飞星火",
    logo: "https://aigc-1307986889.cos.ap-guangzhou.myqcloud.com/resource/image/models/xunfei.png",
    website: "#",
    industry: "讯飞星火"
  },
  {
    name: "Kimi",
    logo: "https://aigc-1307986889.cos.ap-guangzhou.myqcloud.com/resource/image/models/kimi.png",
    website: "#",
    industry: "Kimi"
  },
  {
    name: "零一万物",
    logo: "https://sf-maas-uat-prod.oss-cn-shanghai.aliyuncs.com/Model_LOGO/Yi.svg",
    website: "#",
    industry: "零一万物"
  },
  {
    name: "智谱清",
    logo: "https://sf-maas-uat-prod.oss-cn-shanghai.aliyuncs.com/Model_LOGO/Zhipu.svg",
    website: "#",
    industry: "智谱清"
  },
  {
    name: "Doubao",
    logo: "https://ark-auto-2100466578-cn-beijing-default.tos-cn-beijing.volces.com/model_cardkLzNWlDVlA.png",
    website: "#",
    industry: "Doubao"
  },
  {
    name: "Moonshot",
    logo: "https://ark-auto-created-required-2100620678-cn-beijing.tos-cn-beijing.volces.com/model_card/1715090507842ySbtQAb9bz.PNG",
    website: "#",
    industry: "Moonshot"
  }
];

// 定义客户类型接口
interface Client {
  name: string;
  logo: string;
  industry: string;
}

// 按行业分类客户
const industries = [...new Set(clients.map(client => client.industry))];
const clientsByIndustry: Record<string, Client[]> = {};

industries.forEach(industry => {
  clientsByIndustry[industry] = clients.filter(client => client.industry === industry);
});

// 将客户数据分为多行，每行显示最多6个客户
const clientsPerRow = 6;
const rows = [];

for (let i = 0; i < clients.length; i += clientsPerRow) {
  rows.push(clients.slice(i, i + clientsPerRow));
}

// 精选案例
const featuredClients = [
  {
    name: "腾讯",
    logo: "/assets/DeepSeek.svg",
    description: "为腾讯提供了全面的AI知识库解决方案，帮助其实现了客服效率提升40%，用户满意度提升25%。",
    industry: "互联网"
  },
  {
    name: "华为",
    logo: "/assets/DeepSeek.svg",
    description: "为华为定制了企业级AI助手系统，整合了产品文档、技术支持和内部知识，大幅提升了技术支持效率。",
    industry: "通信技术"
  },
  {
    name: "美团",
    logo: "/assets/DeepSeek.svg",
    description: "为美团开发了多终端AI客服系统，覆盖App、小程序和网页端，实现了7×24小时智能客服支持。",
    industry: "生活服务"
  }
];
---

<section class="relative py-24 overflow-hidden bg-white dark:bg-gray-900">
  <div class="absolute inset-0 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-950/30 dark:to-purple-950/30 opacity-30"></div>
  <div class="relative container-custom">
    <!-- 头部标题 -->
    <div class="text-center max-w-3xl mx-auto mb-16">
      <span class="inline-flex items-center px-4 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 rounded-full ring-1 ring-inset ring-blue-500/20">
        值得信赖的伙伴
      </span>
      <h2 class="mt-4 text-4xl sm:text-5xl font-bold font-display tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 dark:from-white dark:via-gray-200 dark:to-white">
        深受行业认可
      </h2>
      <p class="mt-6 text-lg text-gray-600 dark:text-gray-300">
        我们与各行业领军企业建立长期合作，共同探索 AI 技术的创新应用
      </p>
    </div>

    <!-- 精选案例展示 -->
    <div class="mb-24">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {featuredClients.map((client) => (
          <div class="group relative bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
            <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-blue-500/5 to-purple-500/5 dark:from-blue-400/10 dark:to-purple-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
            
            {/* 右上角装饰元素 */}
            <div class="absolute -top-2 -right-2 w-8 h-8">
              <div class="absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-500 opacity-20 rounded-full animate-pulse"></div>
              <div class="absolute inset-1 bg-white dark:bg-gray-800 rounded-full"></div>
              <div class="absolute inset-2 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full"></div>
            </div>
            
            <div class="relative p-6">
              <div class="flex items-center space-x-3">
                <div class="flex-shrink-0 p-2 rounded-lg bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 group-hover:scale-105 transition-transform duration-500">
                  <img src={client.logo} alt={client.name} class="w-8 h-8 object-contain"/>
                </div>
                <div>
                  <h3 class="text-lg font-bold text-gray-900 dark:text-white">{client.name}</h3>
                  <span class="text-xs text-blue-600 dark:text-blue-400">{client.industry}</span>
                </div>
              </div>
              <p class="mt-4 text-sm text-gray-600 dark:text-gray-300 leading-relaxed">
                {client.description}
              </p>
              <div class="mt-4 flex items-center text-blue-600 dark:text-blue-400 font-medium group-hover:translate-x-2 transition-transform duration-500">
                <span>查看详情</span>
                <svg class="ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
                </svg>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- 行业分类标签 -->
    <div class="flex flex-wrap justify-center gap-4 mb-16">
      <button class="industry-btn active" data-industry="all">
        AI模型
      </button>
      {industries.map((industry) => (
        <button class="industry-btn" data-industry={industry}>
          {industry}
        </button>
      ))}
    </div>

    <!-- 客户Logo墙 -->
    <div class="relative">
      {rows.map((row, rowIndex) => (
        <div class={`marquee-row ${rowIndex < rows.length - 1 ? 'mb-8' : ''}`}>
          <div class="marquee-track">
            {[...row, ...row].map((client) => (
              <div class="client-logo group" data-industry={client.industry}>
                <div class="relative p-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 transition-all duration-300">
                  <img 
                    src={client.logo} 
                    alt={client.name}
                    class="h-12 w-auto mx-auto filter grayscale opacity-70 group-hover:grayscale-0 group-hover:opacity-100 transition-all duration-300"
                  />
                  <div class="absolute inset-x-0 bottom-2 text-center">
                    <span class="px-2 py-1 text-xs text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                      {client.name}
                    </span>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .marquee-row {
    overflow: hidden;
    position: relative;
  }

  .marquee-track {
    display: flex;
    gap: 2rem;
    animation: scroll 40s linear infinite;
  }

  .marquee-row:nth-child(even) .marquee-track {
    animation-duration: 50s;
    animation-direction: reverse;
  }

  .client-logo {
    flex: 0 0 auto;
    width: 180px;
  }

  @keyframes scroll {
    from { transform: translateX(0); }
    to { transform: translateX(calc(-50% - 1rem)); }
  }

  .industry-btn {
    @apply px-4 py-2 rounded-full text-sm font-medium transition-all duration-200;
    @apply text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-800;
    @apply hover:bg-gray-200 dark:hover:bg-gray-700;
    @apply ring-1 ring-gray-200 dark:ring-gray-700;
  }

  .industry-btn.active {
    @apply text-white bg-blue-600 dark:bg-blue-500;
    @apply hover:bg-blue-700 dark:hover:bg-blue-600;
    @apply ring-blue-600 dark:ring-blue-500;
  }
</style>

<script>
  // 行业筛选功能
  document.addEventListener('DOMContentLoaded', () => {
    const industryBtns = document.querySelectorAll('.industry-btn');
    const clientCards = document.querySelectorAll('.client-logo-card');
    
    industryBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        // 更新按钮状态
        industryBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        const industry = btn.getAttribute('data-industry');
        
        // 筛选客户卡片
        clientCards.forEach(card => {
          if (industry === 'all' || card.getAttribute('data-industry') === industry) {
            (card as HTMLElement).style.display = 'flex';
          } else {
            (card as HTMLElement).style.display = 'none';
          }
        });
      });
    });
  });
</script>
